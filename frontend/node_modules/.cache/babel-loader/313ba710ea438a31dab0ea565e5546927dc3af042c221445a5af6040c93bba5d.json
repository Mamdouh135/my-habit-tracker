{"ast":null,"code":"import _objectSpread from\"E:/New folder/New folder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{setTutorialSeen,addHabit,getHabits}from'./api';// Helper: find element with retry\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function findElement(selector){let attempts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;let interval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:120;return new Promise(resolve=>{let i=0;const tick=()=>{const el=document.querySelector(selector);if(el)return resolve(el);i+=1;if(i>=attempts)return resolve(null);setTimeout(tick,interval);};tick();});}export default function Tutorial(_ref){let{visible,onClose,token,setPage}=_ref;const[step,setStep]=useState(0);const[pointer,setPointer]=useState(null);// {top,left,width,height,placement}\nconst[cardStyle,setCardStyle]=useState(null);// when present, position the tutorial card next to the target\nconst finishBtnRef=useRef(null);const cardRef=useRef(null);const interactiveSteps=[{title:'Welcome',body:'This quick interactive tour shows how to add and complete habits.'},{title:'Add a Habit',body:'Type a short habit name in this field. (We will demo \"Brush your teeth\" for you.)',selector:'.add-habit-input',placement:'right',page:'home'},{title:'Save the Habit',body:'Click the Add button to save your habit. We will add it automatically for the demo.',selector:'.add-habit-btn',placement:'bottom',page:'home',autoFill:'Brush your teeth'},{title:'Mark Complete',body:'Tap the mark-as-done button to record a completion for today. We will briefly show the effect.',selector:'.habit-complete-btn',placement:'left',page:'home',autoClick:true,demoName:'Brush your teeth'},{title:'Delete a Habit',body:'You can remove habits using the delete button.',selector:'.habit-delete-btn',placement:'left',page:'home',demoName:'Brush your teeth'}];useEffect(()=>{if(visible){console.log('Tutorial: visible true — mounting tutorial overlay');setStep(0);setPointer(null);document.body.style.overflow='hidden';setTimeout(()=>{var _finishBtnRef$current;return(_finishBtnRef$current=finishBtnRef.current)===null||_finishBtnRef$current===void 0?void 0:_finishBtnRef$current.focus();},120);return()=>{document.body.style.overflow='';};}else{console.log('Tutorial: visible false');}},[visible]);// when step changes, if it has a selector, try to locate and position the pointer/highlight\nuseEffect(()=>{if(!visible)return;const s=interactiveSteps[step];let cancelled=false;(async()=>{setPointer(null);setCardStyle(null);if(s!==null&&s!==void 0&&s.page&&setPage)setPage(s.page);if(!(s!==null&&s!==void 0&&s.selector))return;// helper: find the button for a habit by name inside the list\nconst findHabitButtonByName=async function(selector,name){let attempts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;let interval=arguments.length>3&&arguments[3]!==undefined?arguments[3]:150;for(let i=0;i<attempts;i++){const li=Array.from(document.querySelectorAll('li')).find(li=>li.textContent&&li.textContent.toLowerCase().includes(name.toLowerCase()));if(li){const btn=li.querySelector(selector);if(btn)return btn;}await new Promise(r=>setTimeout(r,interval));}return null;};let el=null;// if the step targets a habit action, prefer the demo habit by name and fall back to API if needed\nif((s.selector==='.habit-complete-btn'||s.selector==='.habit-delete-btn')&&s.demoName){el=await findHabitButtonByName(s.selector,s.demoName);if(!el&&token){try{const existing=await getHabits(token);if(!existing.data.some(h=>h.name===s.demoName)){await addHabit(token,s.demoName);}await new Promise(r=>setTimeout(r,400));el=await findHabitButtonByName(s.selector,s.demoName);}catch(err){/* ignore */}}if(!el){// final fallback to any matching selector in the DOM\nel=await findElement(s.selector);}}else{el=await findElement(s.selector);}if(!el||cancelled)return;// scroll into view then compute rect\nel.scrollIntoView({behavior:'smooth',block:'center',inline:'center'});await new Promise(r=>setTimeout(r,200));// demo auto-fill / auto-click for specific steps\ntry{if(s.autoFill){const input=el.tagName.toLowerCase()==='input'?el:document.querySelector('.add-habit-input');if(input){input.focus();input.value=s.autoFill;input.dispatchEvent(new Event('input',{bubbles:true}));await new Promise(r=>setTimeout(r,220));}}if(s.autoClick){el.click();await new Promise(r=>setTimeout(r,380));}// for the Save step we may have filled the input; if the selector is button we can click it\nif(s.selector==='.add-habit-btn'&&s.autoFill){const btn=el;if(btn){btn.click();await new Promise(r=>setTimeout(r,500));}}}catch(e){/* ignore demo errors */}// compute rect (viewport coordinates) and pointer box\nlet rect=el.getBoundingClientRect();// if this is the add-habit input (or related), ensure there is enough space above\nconst desiredSpaceAbove=220;const isAddHabitTarget=s.selector&&s.selector.indexOf('.add-habit')===0;let spaceAbove=rect.top;if(isAddHabitTarget&&spaceAbove<desiredSpaceAbove){// attempt to scroll up to create room above the element (clamped to available scroll)\nconst need=desiredSpaceAbove-spaceAbove+20;const canScrollUp=Math.min(window.scrollY,need);if(canScrollUp>0){window.scrollBy({top:-canScrollUp,behavior:'smooth'});await new Promise(r=>setTimeout(r,300));rect=el.getBoundingClientRect();spaceAbove=rect.top;}}const pointerBox={top:rect.top+window.scrollY,left:rect.left+window.scrollX,width:rect.width,height:rect.height,placement:s.placement||'top'};setPointer(pointerBox);// position the tutorial card attached to the target (prefer above the input)\nconst viewportCenterX=rect.left+rect.width/2;const preferAbove=isAddHabitTarget||spaceAbove>window.innerHeight-(rect.top+rect.height);const margin=12;let topPx,transform;if(preferAbove){// place card above the element (card bottom sits margin px above element top)\ntopPx=Math.max(12,rect.top-margin);transform='translate(-50%, -100%)';}else{// place card below the element\ntopPx=Math.min(window.innerHeight-12,rect.top+rect.height+margin);transform='translate(-50%, 0%)';}const clampLeft=Math.min(Math.max(viewportCenterX,16),window.innerWidth-16);setCardStyle({position:'fixed',top:Math.round(topPx),left:Math.round(clampLeft),transform,zIndex:13000});// after render, nudge card further upwards if it would overlap the target\nawait new Promise(r=>requestAnimationFrame(r));if(cardRef.current&&preferAbove){const cardRect=cardRef.current.getBoundingClientRect();const cardBottom=cardRect.top+cardRect.height;const gap=rect.top-cardBottom;if(gap<8){// move card further up so there's an 8px gap\nconst extra=8-gap;setCardStyle(prev=>prev?_objectSpread(_objectSpread({},prev),{},{top:Math.max(8,prev.top-extra-8)}):prev);}}})();return()=>{cancelled=true;};},[step,visible,token]);if(!visible)return null;const steps=interactiveSteps;const finish=async()=>{try{localStorage.setItem('tutorialSeen','true');if(token){try{await setTutorialSeen(token);}catch(e){}}}catch(e){}onClose();};const s=steps[step];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-overlay\",role:\"dialog\",\"aria-modal\":\"true\",children:[pointer&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-highlight\",style:{top:pointer.top-8,left:pointer.left-8,width:pointer.width+16,height:pointer.height+16}}),/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-pointer tutorial-pointer-\".concat(pointer.placement),style:{top:pointer.placement==='bottom'?pointer.top+pointer.height+12:pointer.top-12,left:pointer.left+pointer.width/2},children:/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-pointer-label\",children:s.title})})]}),/*#__PURE__*/_jsxs(\"div\",{ref:cardRef,className:\"tutorial-card \".concat(cardStyle?'tutorial-card--attached':''),role:\"document\",style:cardStyle?cardStyle:{zIndex:13000},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-step\",children:[\"Step \",step+1,\" / \",steps.length]}),/*#__PURE__*/_jsx(\"button\",{className:\"tutorial-skip\",onClick:finish,children:\"Skip\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"tutorial-title\",children:s.title}),/*#__PURE__*/_jsx(\"p\",{className:\"tutorial-body\",children:s.body}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-actions\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:step===0,onClick:()=>setStep(x=>Math.max(0,x-1)),children:\"Back\"}),step<steps.length-1?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(x=>Math.min(steps.length-1,x+1)),children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{ref:finishBtnRef,className:\"finish\",onClick:finish,children:\"Finish\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","setTutorialSeen","addHabit","getHabits","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","findElement","selector","attempts","arguments","length","undefined","interval","Promise","resolve","i","tick","el","document","querySelector","setTimeout","Tutorial","_ref","visible","onClose","token","setPage","step","setStep","pointer","setPointer","cardStyle","setCardStyle","finishBtnRef","cardRef","interactiveSteps","title","body","placement","page","autoFill","autoClick","demoName","console","log","style","overflow","_finishBtnRef$current","current","focus","s","cancelled","findHabitButtonByName","name","li","Array","from","querySelectorAll","find","textContent","toLowerCase","includes","btn","r","existing","data","some","h","err","scrollIntoView","behavior","block","inline","input","tagName","value","dispatchEvent","Event","bubbles","click","e","rect","getBoundingClientRect","desiredSpaceAbove","isAddHabitTarget","indexOf","spaceAbove","top","need","canScrollUp","Math","min","window","scrollY","scrollBy","pointerBox","left","scrollX","width","height","viewportCenterX","preferAbove","innerHeight","margin","topPx","transform","max","clampLeft","innerWidth","position","round","zIndex","requestAnimationFrame","cardRect","cardBottom","gap","extra","prev","_objectSpread","steps","finish","localStorage","setItem","children","className","role","concat","ref","onClick","disabled","x"],"sources":["E:/New folder/New folder/frontend/src/Tutorial.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { setTutorialSeen, addHabit, getHabits } from './api';\r\n\r\n// Helper: find element with retry\r\nfunction findElement(selector, attempts = 12, interval = 120) {\r\n  return new Promise(resolve => {\r\n    let i = 0;\r\n    const tick = () => {\r\n      const el = document.querySelector(selector);\r\n      if (el) return resolve(el);\r\n      i += 1;\r\n      if (i >= attempts) return resolve(null);\r\n      setTimeout(tick, interval);\r\n    };\r\n    tick();\r\n  });\r\n}\r\n\r\nexport default function Tutorial({ visible, onClose, token, setPage }) {\r\n  const [step, setStep] = useState(0);\r\n  const [pointer, setPointer] = useState(null); // {top,left,width,height,placement}\r\n  const [cardStyle, setCardStyle] = useState(null); // when present, position the tutorial card next to the target\r\n  const finishBtnRef = useRef(null);\r\n  const cardRef = useRef(null);\r\n\r\n  const interactiveSteps = [\r\n    {\r\n      title: 'Welcome',\r\n      body: 'This quick interactive tour shows how to add and complete habits.'\r\n    },\r\n    {\r\n      title: 'Add a Habit',\r\n      body: 'Type a short habit name in this field. (We will demo \"Brush your teeth\" for you.)',\r\n      selector: '.add-habit-input',\r\n      placement: 'right',\r\n      page: 'home'\r\n    },\r\n    {\r\n      title: 'Save the Habit',\r\n      body: 'Click the Add button to save your habit. We will add it automatically for the demo.',\r\n      selector: '.add-habit-btn',\r\n      placement: 'bottom',\r\n      page: 'home',\r\n      autoFill: 'Brush your teeth'\r\n    },\r\n    {\r\n      title: 'Mark Complete',\r\n      body: 'Tap the mark-as-done button to record a completion for today. We will briefly show the effect.',\r\n      selector: '.habit-complete-btn',\r\n      placement: 'left',\r\n      page: 'home',\r\n      autoClick: true,\r\n      demoName: 'Brush your teeth'\r\n    },\r\n    {\r\n      title: 'Delete a Habit',\r\n      body: 'You can remove habits using the delete button.',\r\n      selector: '.habit-delete-btn',\r\n      placement: 'left',\r\n      page: 'home',\r\n      demoName: 'Brush your teeth'\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (visible) {\r\n      console.log('Tutorial: visible true — mounting tutorial overlay');\r\n      setStep(0);\r\n      setPointer(null);\r\n      document.body.style.overflow = 'hidden';\r\n      setTimeout(() => finishBtnRef.current?.focus(), 120);\r\n      return () => { document.body.style.overflow = ''; };\r\n    } else {\r\n      console.log('Tutorial: visible false');\r\n    }\r\n  }, [visible]);\r\n\r\n  // when step changes, if it has a selector, try to locate and position the pointer/highlight\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    const s = interactiveSteps[step];\r\n    let cancelled = false;\r\n\r\n    (async () => {\r\n      setPointer(null);\r\n      setCardStyle(null);\r\n      if (s?.page && setPage) setPage(s.page);\r\n      if (!s?.selector) return;\r\n\r\n      // helper: find the button for a habit by name inside the list\r\n      const findHabitButtonByName = async (selector, name, attempts = 8, interval = 150) => {\r\n        for (let i = 0; i < attempts; i++) {\r\n          const li = Array.from(document.querySelectorAll('li')).find(li => li.textContent && li.textContent.toLowerCase().includes(name.toLowerCase()));\r\n          if (li) {\r\n            const btn = li.querySelector(selector);\r\n            if (btn) return btn;\r\n          }\r\n          await new Promise(r => setTimeout(r, interval));\r\n        }\r\n        return null;\r\n      };\r\n\r\n      let el = null;\r\n\r\n      // if the step targets a habit action, prefer the demo habit by name and fall back to API if needed\r\n      if ((s.selector === '.habit-complete-btn' || s.selector === '.habit-delete-btn') && s.demoName) {\r\n        el = await findHabitButtonByName(s.selector, s.demoName);\r\n\r\n        if (!el && token) {\r\n          try {\r\n            const existing = await getHabits(token);\r\n            if (!existing.data.some(h => h.name === s.demoName)) {\r\n              await addHabit(token, s.demoName);\r\n            }\r\n            await new Promise(r => setTimeout(r, 400));\r\n            el = await findHabitButtonByName(s.selector, s.demoName);\r\n          } catch (err) {\r\n            /* ignore */\r\n          }\r\n        }\r\n\r\n        if (!el) {\r\n          // final fallback to any matching selector in the DOM\r\n          el = await findElement(s.selector);\r\n        }\r\n      } else {\r\n        el = await findElement(s.selector);\r\n      }\r\n\r\n      if (!el || cancelled) return;\r\n\r\n      // scroll into view then compute rect\r\n      el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\r\n      await new Promise(r => setTimeout(r, 200));\r\n\r\n      // demo auto-fill / auto-click for specific steps\r\n      try {\r\n        if (s.autoFill) {\r\n          const input = el.tagName.toLowerCase() === 'input' ? el : document.querySelector('.add-habit-input');\r\n          if (input) {\r\n            input.focus();\r\n            input.value = s.autoFill;\r\n            input.dispatchEvent(new Event('input', { bubbles: true }));\r\n            await new Promise(r => setTimeout(r, 220));\r\n          }\r\n        }\r\n        if (s.autoClick) {\r\n          el.click();\r\n          await new Promise(r => setTimeout(r, 380));\r\n        }\r\n        // for the Save step we may have filled the input; if the selector is button we can click it\r\n        if (s.selector === '.add-habit-btn' && s.autoFill) {\r\n          const btn = el;\r\n          if (btn) {\r\n            btn.click();\r\n            await new Promise(r => setTimeout(r, 500));\r\n          }\r\n        }\r\n      } catch (e) { /* ignore demo errors */ }\r\n\r\n      // compute rect (viewport coordinates) and pointer box\r\n      let rect = el.getBoundingClientRect();\r\n\r\n      // if this is the add-habit input (or related), ensure there is enough space above\r\n      const desiredSpaceAbove = 220;\r\n      const isAddHabitTarget = s.selector && s.selector.indexOf('.add-habit') === 0;\r\n      let spaceAbove = rect.top;\r\n\r\n      if (isAddHabitTarget && spaceAbove < desiredSpaceAbove) {\r\n        // attempt to scroll up to create room above the element (clamped to available scroll)\r\n        const need = desiredSpaceAbove - spaceAbove + 20;\r\n        const canScrollUp = Math.min(window.scrollY, need);\r\n        if (canScrollUp > 0) {\r\n          window.scrollBy({ top: -canScrollUp, behavior: 'smooth' });\r\n          await new Promise(r => setTimeout(r, 300));\r\n          rect = el.getBoundingClientRect();\r\n          spaceAbove = rect.top;\r\n        }\r\n      }\r\n\r\n      const pointerBox = {\r\n        top: rect.top + window.scrollY,\r\n        left: rect.left + window.scrollX,\r\n        width: rect.width,\r\n        height: rect.height,\r\n        placement: s.placement || 'top'\r\n      };\r\n      setPointer(pointerBox);\r\n\r\n      // position the tutorial card attached to the target (prefer above the input)\r\n      const viewportCenterX = rect.left + rect.width / 2;\r\n      const preferAbove = isAddHabitTarget || (spaceAbove > (window.innerHeight - (rect.top + rect.height)) );\r\n      const margin = 12;\r\n      let topPx, transform;\r\n      if (preferAbove) {\r\n        // place card above the element (card bottom sits margin px above element top)\r\n        topPx = Math.max(12, rect.top - margin);\r\n        transform = 'translate(-50%, -100%)';\r\n      } else {\r\n        // place card below the element\r\n        topPx = Math.min(window.innerHeight - 12, rect.top + rect.height + margin);\r\n        transform = 'translate(-50%, 0%)';\r\n      }\r\n\r\n      const clampLeft = Math.min(Math.max(viewportCenterX, 16), window.innerWidth - 16);\r\n      setCardStyle({ position: 'fixed', top: Math.round(topPx), left: Math.round(clampLeft), transform, zIndex: 13000 });\r\n\r\n      // after render, nudge card further upwards if it would overlap the target\r\n      await new Promise(r => requestAnimationFrame(r));\r\n      if (cardRef.current && preferAbove) {\r\n        const cardRect = cardRef.current.getBoundingClientRect();\r\n        const cardBottom = cardRect.top + cardRect.height;\r\n        const gap = rect.top - cardBottom;\r\n        if (gap < 8) {\r\n          // move card further up so there's an 8px gap\r\n          const extra = 8 - gap;\r\n          setCardStyle(prev => prev ? ({ ...prev, top: Math.max(8, prev.top - extra - 8) }) : prev);\r\n        }\r\n      }\r\n    })();\r\n\r\n    return () => { cancelled = true; };\r\n  }, [step, visible, token]);\r\n\r\n  if (!visible) return null;\r\n\r\n  const steps = interactiveSteps;\r\n\r\n  const finish = async () => {\r\n    try {\r\n      localStorage.setItem('tutorialSeen', 'true');\r\n      if (token) {\r\n        try { await setTutorialSeen(token); } catch (e) {}\r\n      }\r\n    } catch (e) {}\r\n    onClose();\r\n  };\r\n\r\n  const s = steps[step];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"tutorial-overlay\" role=\"dialog\" aria-modal=\"true\">\r\n        {pointer && (\r\n          <>\r\n            <div\r\n              className=\"tutorial-highlight\"\r\n              style={{\r\n                top: pointer.top - 8,\r\n                left: pointer.left - 8,\r\n                width: pointer.width + 16,\r\n                height: pointer.height + 16\r\n              }}\r\n            />\r\n            <div\r\n              className={`tutorial-pointer tutorial-pointer-${pointer.placement}`}\r\n              style={{\r\n                top: (pointer.placement === 'bottom') ? (pointer.top + pointer.height + 12) : (pointer.top - 12),\r\n                left: pointer.left + pointer.width / 2\r\n              }}\r\n            >\r\n              <div className=\"tutorial-pointer-label\">{s.title}</div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        <div\r\n          ref={cardRef}\r\n          className={`tutorial-card ${cardStyle ? 'tutorial-card--attached' : ''}`}\r\n          role=\"document\"\r\n          style={cardStyle ? cardStyle : { zIndex: 13000 }}\r\n        >\r\n          <div className=\"tutorial-header\">\r\n            <div className=\"tutorial-step\">Step {step + 1} / {steps.length}</div>\r\n            <button className=\"tutorial-skip\" onClick={finish}>Skip</button>\r\n          </div>\r\n          <h3 className=\"tutorial-title\">{s.title}</h3>\r\n          <p className=\"tutorial-body\">{s.body}</p>\r\n          <div className=\"tutorial-actions\">\r\n            <button disabled={step === 0} onClick={() => setStep(x => Math.max(0, x - 1))}>Back</button>\r\n            {step < steps.length - 1 ? (\r\n              <button onClick={() => setStep(x => Math.min(steps.length - 1, x + 1))}>Next</button>\r\n            ) : (\r\n              <button ref={finishBtnRef} className=\"finish\" onClick={finish}>Finish</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}