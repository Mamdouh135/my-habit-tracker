{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{setTutorialSeen}from'./api';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Tutorial(_ref){let{visible,onClose,token}=_ref;const[step,setStep]=useState(0);const finishBtnRef=useRef(null);useEffect(()=>{if(visible){setStep(0);// focus the primary action for visibility / accessibility\nsetTimeout(()=>{var _finishBtnRef$current;return(_finishBtnRef$current=finishBtnRef.current)===null||_finishBtnRef$current===void 0?void 0:_finishBtnRef$current.focus();},120);// prevent body scroll while visible\ndocument.body.style.overflow='hidden';return()=>{document.body.style.overflow='';};}},[visible]);if(!visible)return null;const steps=[{title:'Welcome',body:'This quick tour will show you how to create and complete habits in three simple steps.'},{title:'Add a Habit',body:'Use the \"Add\" input to create a new habit. Keep entries short and actionable.'},{title:'Mark Complete',body:'Tap \"Mark as done\" to log a completion for today — celebrate small wins!'}];const finish=async()=>{try{// persist locally\nlocalStorage.setItem('tutorialSeen','true');// persist server-side when authenticated\nif(token){try{await setTutorialSeen(token);}catch(e){/* ignore server errors */}}}catch(e){}onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-overlay\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-card\",role:\"document\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-step\",children:[\"Step \",step+1,\" / \",steps.length]}),/*#__PURE__*/_jsx(\"button\",{className:\"tutorial-skip\",onClick:finish,children:\"Skip\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"tutorial-title\",children:steps[step].title}),/*#__PURE__*/_jsx(\"p\",{className:\"tutorial-body\",children:steps[step].body}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-actions\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:step===0,onClick:()=>setStep(s=>s-1),children:\"Back\"}),step<steps.length-1?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(s=>s+1),children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{ref:finishBtnRef,className:\"finish\",onClick:finish,children:\"Finish\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","setTutorialSeen","jsxs","_jsxs","jsx","_jsx","Tutorial","_ref","visible","onClose","token","step","setStep","finishBtnRef","setTimeout","_finishBtnRef$current","current","focus","document","body","style","overflow","steps","title","finish","localStorage","setItem","e","className","role","children","length","onClick","disabled","s","ref"],"sources":["E:/New folder/New folder/frontend/src/Tutorial.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { setTutorialSeen } from './api';\r\n\r\nexport default function Tutorial({ visible, onClose, token }) {\r\n  const [step, setStep] = useState(0);\r\n  const finishBtnRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (visible) {\r\n      setStep(0);\r\n      // focus the primary action for visibility / accessibility\r\n      setTimeout(() => finishBtnRef.current?.focus(), 120);\r\n      // prevent body scroll while visible\r\n      document.body.style.overflow = 'hidden';\r\n      return () => { document.body.style.overflow = ''; };\r\n    }\r\n  }, [visible]);\r\n\r\n  if (!visible) return null;\r\n\r\n  const steps = [\r\n    {\r\n      title: 'Welcome',\r\n      body: 'This quick tour will show you how to create and complete habits in three simple steps.'\r\n    },\r\n    {\r\n      title: 'Add a Habit',\r\n      body: 'Use the \"Add\" input to create a new habit. Keep entries short and actionable.'\r\n    },\r\n    {\r\n      title: 'Mark Complete',\r\n      body: 'Tap \"Mark as done\" to log a completion for today — celebrate small wins!'\r\n    }\r\n  ];\r\n\r\n  const finish = async () => {\r\n    try {\r\n      // persist locally\r\n      localStorage.setItem('tutorialSeen', 'true');\r\n      // persist server-side when authenticated\r\n      if (token) {\r\n        try { await setTutorialSeen(token); } catch (e) { /* ignore server errors */ }\r\n      }\r\n    } catch (e) {}\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"tutorial-overlay\" role=\"dialog\" aria-modal=\"true\">\r\n      <div className=\"tutorial-card\" role=\"document\">\r\n        <div className=\"tutorial-header\">\r\n          <div className=\"tutorial-step\">Step {step + 1} / {steps.length}</div>\r\n          <button className=\"tutorial-skip\" onClick={finish}>Skip</button>\r\n        </div>\r\n        <h3 className=\"tutorial-title\">{steps[step].title}</h3>\r\n        <p className=\"tutorial-body\">{steps[step].body}</p>\r\n        <div className=\"tutorial-actions\">\r\n          <button disabled={step === 0} onClick={() => setStep(s => s - 1)}>Back</button>\r\n          {step < steps.length - 1 ? (\r\n            <button onClick={() => setStep(s => s + 1)}>Next</button>\r\n          ) : (\r\n            <button ref={finishBtnRef} className=\"finish\" onClick={finish}>Finish</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}