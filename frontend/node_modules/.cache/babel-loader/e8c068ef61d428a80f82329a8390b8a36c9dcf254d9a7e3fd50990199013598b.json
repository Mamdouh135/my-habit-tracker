{"ast":null,"code":"import React,{useState,useEffect,useRef,useContext}from'react';import emailjs from'@emailjs/browser';import{AuthContext}from'./AuthContext';import{useLanguage}from'./LanguageContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EMAILJS_SERVICE_ID='service_p1h0j0t';const EMAILJS_TEMPLATE_ID='template_s5km4ws';const EMAILJS_PUBLIC_KEY='7UPlEA_fxJEQPUZ3P';// Anti-spam: minimum time before form can be submitted (ms)\nconst MIN_SUBMIT_TIME=3000;// Rate limit: minimum time between submissions (ms)\nconst RATE_LIMIT_TIME=60000;export default function ContactMe(){const{userProfile}=useContext(AuthContext);const{t}=useLanguage();const[email,setEmail]=useState('');const[message,setMessage]=useState('');const[sent,setSent]=useState(false);const[error,setError]=useState('');const[sending,setSending]=useState(false);// Anti-spam: honeypot field (bots will fill this)\nconst[honeypot,setHoneypot]=useState('');// Anti-spam: track when form was loaded\nconst formLoadTime=useRef(Date.now());// Reset load time when component mounts\nuseEffect(()=>{formLoadTime.current=Date.now();},[]);const handleSend=async e=>{e.preventDefault();setError('');// Anti-spam check 1: Honeypot - if filled, it's a bot\nif(honeypot){// Silently pretend success to confuse bots\nsetSent(true);return;}// Anti-spam check 2: Time-based - form submitted too quickly\nconst timeSpent=Date.now()-formLoadTime.current;if(timeSpent<MIN_SUBMIT_TIME){setError(t('takeAMoment'));return;}// Anti-spam check 3: Rate limiting\nconst lastSubmit=localStorage.getItem('lastContactSubmit');if(lastSubmit&&Date.now()-parseInt(lastSubmit)<RATE_LIMIT_TIME){const waitTime=Math.ceil((RATE_LIMIT_TIME-(Date.now()-parseInt(lastSubmit)))/1000);setError(t('waitSeconds',{seconds:waitTime}));return;}// Basic validation\nif(!message||message.trim().length<10){setError(t('writeMessage'));return;}// Anti-spam check 4: Check for excessive links (common in spam)\nconst linkCount=(message.match(/https?:\\/\\//gi)||[]).length;if(linkCount>3){setError(t('tooManyLinks'));return;}setSending(true);try{const username=(userProfile===null||userProfile===void 0?void 0:userProfile.username)||(userProfile===null||userProfile===void 0?void 0:userProfile.name)||'Guest';await emailjs.send(EMAILJS_SERVICE_ID,EMAILJS_TEMPLATE_ID,{from_name:username,from_email:email||'Anonymous',message:message},EMAILJS_PUBLIC_KEY);localStorage.setItem('lastContactSubmit',Date.now().toString());setSent(true);}catch(err){setError(t('sendFailed'));}finally{setSending(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:t('contactUs')}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'#a100ff',fontWeight:600,fontSize:'1.15rem',marginBottom:'18px',letterSpacing:'1px',filter:'drop-shadow(0 1px 8px #00fff7aa)'},children:t('contactTagline')}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"website\",value:honeypot,onChange:e=>setHoneypot(e.target.value),style:{position:'absolute',left:'-9999px',opacity:0},tabIndex:-1,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:t('emailPlaceholder'),value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:t('messagePlaceholder'),value:message,onChange:e=>setMessage(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:sending||sent,children:sending?t('sending'):sent?t('sent'):t('send')}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#00fff7',marginTop:'8px',fontWeight:500},children:error}),sent&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#a100ff',marginTop:'8px',fontWeight:500},children:t('messageSent')})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","emailjs","AuthContext","useLanguage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EMAILJS_SERVICE_ID","EMAILJS_TEMPLATE_ID","EMAILJS_PUBLIC_KEY","MIN_SUBMIT_TIME","RATE_LIMIT_TIME","ContactMe","userProfile","t","email","setEmail","message","setMessage","sent","setSent","error","setError","sending","setSending","honeypot","setHoneypot","formLoadTime","Date","now","current","handleSend","e","preventDefault","timeSpent","lastSubmit","localStorage","getItem","parseInt","waitTime","Math","ceil","seconds","trim","length","linkCount","match","username","name","send","from_name","from_email","setItem","toString","err","children","style","textAlign","color","fontWeight","fontSize","marginBottom","letterSpacing","filter","onSubmit","type","value","onChange","target","position","left","opacity","tabIndex","autoComplete","placeholder","disabled","marginTop"],"sources":["E:/New folder/New folder/frontend/src/ContactMe.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport emailjs from '@emailjs/browser';\r\nimport { AuthContext } from './AuthContext';\r\nimport { useLanguage } from './LanguageContext';\r\n\r\nconst EMAILJS_SERVICE_ID = 'service_p1h0j0t';\r\nconst EMAILJS_TEMPLATE_ID = 'template_s5km4ws';\r\nconst EMAILJS_PUBLIC_KEY = '7UPlEA_fxJEQPUZ3P';\r\n\r\n// Anti-spam: minimum time before form can be submitted (ms)\r\nconst MIN_SUBMIT_TIME = 3000;\r\n// Rate limit: minimum time between submissions (ms)\r\nconst RATE_LIMIT_TIME = 60000;\r\n\r\nexport default function ContactMe() {\r\n  const { userProfile } = useContext(AuthContext);\r\n  const { t } = useLanguage();\r\n  const [email, setEmail] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [sent, setSent] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [sending, setSending] = useState(false);\r\n  \r\n  // Anti-spam: honeypot field (bots will fill this)\r\n  const [honeypot, setHoneypot] = useState('');\r\n  // Anti-spam: track when form was loaded\r\n  const formLoadTime = useRef(Date.now());\r\n\r\n  // Reset load time when component mounts\r\n  useEffect(() => {\r\n    formLoadTime.current = Date.now();\r\n  }, []);\r\n\r\n  const handleSend = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    // Anti-spam check 1: Honeypot - if filled, it's a bot\r\n    if (honeypot) {\r\n      // Silently pretend success to confuse bots\r\n      setSent(true);\r\n      return;\r\n    }\r\n\r\n    // Anti-spam check 2: Time-based - form submitted too quickly\r\n    const timeSpent = Date.now() - formLoadTime.current;\r\n    if (timeSpent < MIN_SUBMIT_TIME) {\r\n      setError(t('takeAMoment'));\r\n      return;\r\n    }\r\n\r\n    // Anti-spam check 3: Rate limiting\r\n    const lastSubmit = localStorage.getItem('lastContactSubmit');\r\n    if (lastSubmit && Date.now() - parseInt(lastSubmit) < RATE_LIMIT_TIME) {\r\n      const waitTime = Math.ceil((RATE_LIMIT_TIME - (Date.now() - parseInt(lastSubmit))) / 1000);\r\n      setError(t('waitSeconds', { seconds: waitTime }));\r\n      return;\r\n    }\r\n\r\n    // Basic validation\r\n    if (!message || message.trim().length < 10) {\r\n      setError(t('writeMessage'));\r\n      return;\r\n    }\r\n\r\n    // Anti-spam check 4: Check for excessive links (common in spam)\r\n    const linkCount = (message.match(/https?:\\/\\//gi) || []).length;\r\n    if (linkCount > 3) {\r\n      setError(t('tooManyLinks'));\r\n      return;\r\n    }\r\n\r\n    setSending(true);\r\n    try {\r\n      const username = userProfile?.username || userProfile?.name || 'Guest';\r\n      await emailjs.send(\r\n        EMAILJS_SERVICE_ID,\r\n        EMAILJS_TEMPLATE_ID,\r\n        {\r\n          from_name: username,\r\n          from_email: email || 'Anonymous',\r\n          message: message,\r\n        },\r\n        EMAILJS_PUBLIC_KEY\r\n      );\r\n      localStorage.setItem('lastContactSubmit', Date.now().toString());\r\n      setSent(true);\r\n    } catch (err) {\r\n      setError(t('sendFailed'));\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>{t('contactUs')}</h2>\r\n      <div style={{textAlign:'center', color:'#a100ff', fontWeight:600, fontSize:'1.15rem', marginBottom:'18px', letterSpacing:'1px', filter:'drop-shadow(0 1px 8px #00fff7aa)'}}>{t('contactTagline')}</div>\r\n      <form onSubmit={handleSend}>\r\n        {/* Honeypot field - hidden from humans, bots will fill it */}\r\n        <input\r\n          type=\"text\"\r\n          name=\"website\"\r\n          value={honeypot}\r\n          onChange={e => setHoneypot(e.target.value)}\r\n          style={{ position: 'absolute', left: '-9999px', opacity: 0 }}\r\n          tabIndex={-1}\r\n          autoComplete=\"off\"\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          placeholder={t('emailPlaceholder')}\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n        />\r\n        <textarea\r\n          placeholder={t('messagePlaceholder')}\r\n          value={message}\r\n          onChange={e => setMessage(e.target.value)}\r\n        />\r\n        <button type=\"submit\" disabled={sending || sent}>\r\n          {sending ? t('sending') : sent ? t('sent') : t('send')}\r\n        </button>\r\n        {error && <div style={{color:'#00fff7', marginTop:'8px', fontWeight:500}}>{error}</div>}\r\n        {sent && <div style={{color:'#a100ff', marginTop:'8px', fontWeight:500}}>{t('messageSent')}</div>}\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}