{"ast":null,"code":"import _objectSpread from\"E:/New folder/New folder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{setTutorialSeen,addHabit,getHabits}from'./api';// Helper: find element with retry\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function findElement(selector){let attempts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;let interval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:120;return new Promise(resolve=>{let i=0;const tick=()=>{const el=document.querySelector(selector);if(el)return resolve(el);i+=1;if(i>=attempts)return resolve(null);setTimeout(tick,interval);};tick();});}export default function Tutorial(_ref){let{visible,onClose,token,setPage}=_ref;const[step,setStep]=useState(0);const[pointer,setPointer]=useState(null);// {top,left,width,height,placement}\nconst[cardStyle,setCardStyle]=useState(null);// when present, position the tutorial card next to the target\nconst finishBtnRef=useRef(null);const cardRef=useRef(null);const autoAdvanceRef=useRef(false);const startedRef=useRef(false);const interactiveSteps=[{title:'Welcome',body:'This quick interactive tour shows how to add and complete habits.'},{title:'Add a Habit',body:'Type a short habit name in this field. (We will demo \"Brush your teeth\" for you.)',selector:'.add-habit-input',placement:'right',page:'home',autoFill:'Brush your teeth'},{title:'Save the Habit',body:'Click the Add button to save your habit. (The demo already adds it.)',selector:'.add-habit-btn',placement:'bottom',page:'home'},{title:'Mark Complete',body:'Tap the mark-as-done button to record a completion for today. We will briefly show the effect.',selector:'.habit-complete-btn',placement:'left',page:'home',autoClick:true,demoName:'Brush your teeth'},{title:'Delete a Habit',body:'You can remove habits using the delete button.',selector:'.habit-delete-btn',placement:'left',page:'home',demoName:'Brush your teeth'}];useEffect(()=>{if(visible){console.log('Tutorial: visible true — mounting tutorial overlay');setStep(0);setPointer(null);startedRef.current=false;document.body.style.overflow='hidden';setTimeout(()=>{var _finishBtnRef$current;return(_finishBtnRef$current=finishBtnRef.current)===null||_finishBtnRef$current===void 0?void 0:_finishBtnRef$current.focus();},120);// auto-skip the introductory welcome and start the demo automatically\nsetTimeout(()=>{if(!startedRef.current&&visible){startedRef.current=true;setStep(1);// move to the first actionable step so demo runs without pressing Next\n}},650);return()=>{document.body.style.overflow='';};}else{console.log('Tutorial: visible false');}},[visible]);// when step changes, if it has a selector, try to locate and position the pointer/highlight\nuseEffect(()=>{if(!visible)return;const s=interactiveSteps[step];let cancelled=false;(async()=>{setPointer(null);setCardStyle(null);if(s!==null&&s!==void 0&&s.page&&setPage)setPage(s.page);if(!(s!==null&&s!==void 0&&s.selector))return;// helper: find the button for a habit by name inside the list\nconst findHabitButtonByName=async function(selector,name){let attempts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;let interval=arguments.length>3&&arguments[3]!==undefined?arguments[3]:150;for(let i=0;i<attempts;i++){const li=Array.from(document.querySelectorAll('li')).find(li=>li.textContent&&li.textContent.toLowerCase().includes(name.toLowerCase()));if(li){const btn=li.querySelector(selector);if(btn)return btn;}await new Promise(r=>setTimeout(r,interval));}return null;};let el=null;// if the step targets a habit action, prefer the demo habit by name and fall back to API if needed\nif((s.selector==='.habit-complete-btn'||s.selector==='.habit-delete-btn')&&s.demoName){el=await findHabitButtonByName(s.selector,s.demoName);if(!el&&token){try{const existing=await getHabits(token);if(!existing.data.some(h=>h.name===s.demoName)){await addHabit(token,s.demoName);}await new Promise(r=>setTimeout(r,400));el=await findHabitButtonByName(s.selector,s.demoName);}catch(err){/* ignore */}}if(!el){// final fallback to any matching selector in the DOM\nel=await findElement(s.selector);}}else{el=await findElement(s.selector);}if(!el||cancelled)return;// scroll into view then compute rect\nel.scrollIntoView({behavior:'smooth',block:'center',inline:'center'});await new Promise(r=>setTimeout(r,200));// demo auto-fill / auto-click for specific steps\ntry{if(s.autoFill){const input=el.tagName.toLowerCase()==='input'?el:document.querySelector('.add-habit-input');if(input){input.focus();input.value=s.autoFill;input.dispatchEvent(new Event('input',{bubbles:true}));await new Promise(r=>setTimeout(r,220));// if we're on the input step, click the Add button automatically so the demo continues\nif(s.selector==='.add-habit-input'){const addBtn=document.querySelector('.add-habit-btn');if(addBtn){addBtn.click();await new Promise(r=>setTimeout(r,420));}}}}if(s.autoClick){el.click();await new Promise(r=>setTimeout(r,380));}// for the Save step we may have filled the input; if the selector is button we can click it\nif(s.selector==='.add-habit-btn'&&s.autoFill){const btn=el;if(btn){btn.click();await new Promise(r=>setTimeout(r,500));}}}catch(e){/* ignore demo errors */}// compute rect (viewport coordinates) and pointer box\nlet rect=el.getBoundingClientRect();// if this is the add-habit input (or related), ensure there is enough space above\nconst desiredSpaceAbove=220;const isAddHabitTarget=s.selector&&s.selector.indexOf('.add-habit')===0;let spaceAbove=rect.top;if(isAddHabitTarget&&spaceAbove<desiredSpaceAbove){// attempt to scroll up to create room above the element (clamped to available scroll)\nconst need=desiredSpaceAbove-spaceAbove+20;const canScrollUp=Math.min(window.scrollY,need);if(canScrollUp>0){window.scrollBy({top:-canScrollUp,behavior:'smooth'});await new Promise(r=>setTimeout(r,300));rect=el.getBoundingClientRect();spaceAbove=rect.top;}}const pointerBox={top:rect.top+window.scrollY,left:rect.left+window.scrollX,width:rect.width,height:rect.height,placement:s.placement||'top'};setPointer(pointerBox);// --- Auto-advance demo steps: when the demo action completes, proceed automatically ---\nif(!cancelled&&(s.autoFill||s.autoClick||s.demoName)){// poll helper\nconst poll=async function(fn){let attempts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;let interval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:160;for(let i=0;i<attempts;i++){try{if(await fn())return true;}catch(e){/* ignore */}await new Promise(r=>setTimeout(r,interval));}return false;};const findHabitLi=name=>Array.from(document.querySelectorAll('li')).find(li=>li.textContent&&li.textContent.toLowerCase().includes((name||'').toLowerCase()));try{if(s.autoFill||s.selector==='.add-habit-btn'){const demoName=s.autoFill||s.demoName||'Brush your teeth';await poll(()=>!!findHabitLi(demoName),12,200);}if(s.selector==='.habit-complete-btn'&&s.demoName){await poll(()=>{const li=findHabitLi(s.demoName);return!!(li&&li.querySelector('.habit-done'));},12,160);}if(s.selector==='.habit-delete-btn'&&s.demoName){await poll(()=>!findHabitLi(s.demoName),12,160);}}catch(e){/* ignore */}if(!autoAdvanceRef.current){autoAdvanceRef.current=true;setTimeout(()=>{autoAdvanceRef.current=false;if(cancelled)return;if(step>=interactiveSteps.length-1){finish();}else{setStep(x=>Math.min(interactiveSteps.length-1,x+1));}},650);}}// position the tutorial card attached to the target (prefer above the input)\nconst viewportCenterX=rect.left+rect.width/2;const preferAbove=isAddHabitTarget||spaceAbove>window.innerHeight-(rect.top+rect.height);const margin=12;let topPx,transform;if(preferAbove){// place card above the element (card bottom sits margin px above element top)\ntopPx=Math.max(12,rect.top-margin);transform='translate(-50%, -100%)';}else{// place card below the element\ntopPx=Math.min(window.innerHeight-12,rect.top+rect.height+margin);transform='translate(-50%, 0%)';}const clampLeft=Math.min(Math.max(viewportCenterX,16),window.innerWidth-16);setCardStyle({position:'fixed',top:Math.round(topPx),left:Math.round(clampLeft),transform,zIndex:13000});// after render, nudge card further upwards if it would overlap the target\nawait new Promise(r=>requestAnimationFrame(r));if(cardRef.current&&preferAbove){const cardRect=cardRef.current.getBoundingClientRect();const cardBottom=cardRect.top+cardRect.height;const gap=rect.top-cardBottom;if(gap<8){// move card further up so there's an 8px gap\nconst extra=8-gap;setCardStyle(prev=>prev?_objectSpread(_objectSpread({},prev),{},{top:Math.max(8,prev.top-extra-8)}):prev);}}})();return()=>{cancelled=true;};},[step,visible,token]);if(!visible)return null;const steps=interactiveSteps;const finish=async()=>{try{localStorage.setItem('tutorialSeen','true');if(token){try{await setTutorialSeen(token);}catch(e){}}}catch(e){}onClose();};const s=steps[step];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-overlay\",role:\"dialog\",\"aria-modal\":\"true\",children:[pointer&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-highlight\",style:{top:pointer.top-8,left:pointer.left-8,width:pointer.width+16,height:pointer.height+16}}),/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-pointer tutorial-pointer-\".concat(pointer.placement),style:{top:pointer.placement==='bottom'?pointer.top+pointer.height+12:pointer.top-12,left:pointer.left+pointer.width/2},children:/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-pointer-label\",children:s.title})})]}),/*#__PURE__*/_jsxs(\"div\",{ref:cardRef,className:\"tutorial-card \".concat(cardStyle?'tutorial-card--attached':''),role:\"document\",style:cardStyle?cardStyle:{zIndex:13000},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-step\",children:[\"Step \",step+1,\" / \",steps.length]}),/*#__PURE__*/_jsx(\"button\",{className:\"tutorial-skip\",onClick:finish,children:\"Skip\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"tutorial-title\",children:s.title}),/*#__PURE__*/_jsx(\"p\",{className:\"tutorial-body\",children:s.body}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-actions\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:step===0,onClick:()=>setStep(x=>Math.max(0,x-1)),children:\"Back\"}),step<steps.length-1?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(x=>Math.min(steps.length-1,x+1)),children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{ref:finishBtnRef,className:\"finish\",onClick:finish,children:\"Finish\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","setTutorialSeen","addHabit","getHabits","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","findElement","selector","attempts","arguments","length","undefined","interval","Promise","resolve","i","tick","el","document","querySelector","setTimeout","Tutorial","_ref","visible","onClose","token","setPage","step","setStep","pointer","setPointer","cardStyle","setCardStyle","finishBtnRef","cardRef","autoAdvanceRef","startedRef","interactiveSteps","title","body","placement","page","autoFill","autoClick","demoName","console","log","current","style","overflow","_finishBtnRef$current","focus","s","cancelled","findHabitButtonByName","name","li","Array","from","querySelectorAll","find","textContent","toLowerCase","includes","btn","r","existing","data","some","h","err","scrollIntoView","behavior","block","inline","input","tagName","value","dispatchEvent","Event","bubbles","addBtn","click","e","rect","getBoundingClientRect","desiredSpaceAbove","isAddHabitTarget","indexOf","spaceAbove","top","need","canScrollUp","Math","min","window","scrollY","scrollBy","pointerBox","left","scrollX","width","height","poll","fn","findHabitLi","finish","x","viewportCenterX","preferAbove","innerHeight","margin","topPx","transform","max","clampLeft","innerWidth","position","round","zIndex","requestAnimationFrame","cardRect","cardBottom","gap","extra","prev","_objectSpread","steps","localStorage","setItem","children","className","role","concat","ref","onClick","disabled"],"sources":["E:/New folder/New folder/frontend/src/Tutorial.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { setTutorialSeen, addHabit, getHabits } from './api';\r\n\r\n// Helper: find element with retry\r\nfunction findElement(selector, attempts = 12, interval = 120) {\r\n  return new Promise(resolve => {\r\n    let i = 0;\r\n    const tick = () => {\r\n      const el = document.querySelector(selector);\r\n      if (el) return resolve(el);\r\n      i += 1;\r\n      if (i >= attempts) return resolve(null);\r\n      setTimeout(tick, interval);\r\n    };\r\n    tick();\r\n  });\r\n}\r\n\r\nexport default function Tutorial({ visible, onClose, token, setPage }) {\r\n  const [step, setStep] = useState(0);\r\n  const [pointer, setPointer] = useState(null); // {top,left,width,height,placement}\r\n  const [cardStyle, setCardStyle] = useState(null); // when present, position the tutorial card next to the target\r\n  const finishBtnRef = useRef(null);\r\n  const cardRef = useRef(null);\r\n  const autoAdvanceRef = useRef(false);\r\n  const startedRef = useRef(false);\r\n\r\n  const interactiveSteps = [\r\n    {\r\n      title: 'Welcome',\r\n      body: 'This quick interactive tour shows how to add and complete habits.'\r\n    },\r\n    {\r\n      title: 'Add a Habit',\r\n      body: 'Type a short habit name in this field. (We will demo \"Brush your teeth\" for you.)',\r\n      selector: '.add-habit-input',\r\n      placement: 'right',\r\n      page: 'home',\r\n      autoFill: 'Brush your teeth'\r\n    },\r\n    {\r\n      title: 'Save the Habit',\r\n      body: 'Click the Add button to save your habit. (The demo already adds it.)',\r\n      selector: '.add-habit-btn',\r\n      placement: 'bottom',\r\n      page: 'home'\r\n    },\r\n    {\r\n      title: 'Mark Complete',\r\n      body: 'Tap the mark-as-done button to record a completion for today. We will briefly show the effect.',\r\n      selector: '.habit-complete-btn',\r\n      placement: 'left',\r\n      page: 'home',\r\n      autoClick: true,\r\n      demoName: 'Brush your teeth'\r\n    },\r\n    {\r\n      title: 'Delete a Habit',\r\n      body: 'You can remove habits using the delete button.',\r\n      selector: '.habit-delete-btn',\r\n      placement: 'left',\r\n      page: 'home',\r\n      demoName: 'Brush your teeth'\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (visible) {\r\n      console.log('Tutorial: visible true — mounting tutorial overlay');\r\n      setStep(0);\r\n      setPointer(null);\r\n      startedRef.current = false;\r\n      document.body.style.overflow = 'hidden';\r\n      setTimeout(() => finishBtnRef.current?.focus(), 120);\r\n\r\n      // auto-skip the introductory welcome and start the demo automatically\r\n      setTimeout(() => {\r\n        if (!startedRef.current && visible) {\r\n          startedRef.current = true;\r\n          setStep(1); // move to the first actionable step so demo runs without pressing Next\r\n        }\r\n      }, 650);\r\n\r\n      return () => { document.body.style.overflow = ''; };\r\n    } else {\r\n      console.log('Tutorial: visible false');\r\n    }\r\n  }, [visible]);\r\n\r\n  // when step changes, if it has a selector, try to locate and position the pointer/highlight\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    const s = interactiveSteps[step];\r\n    let cancelled = false;\r\n\r\n    (async () => {\r\n      setPointer(null);\r\n      setCardStyle(null);\r\n      if (s?.page && setPage) setPage(s.page);\r\n      if (!s?.selector) return;\r\n\r\n      // helper: find the button for a habit by name inside the list\r\n      const findHabitButtonByName = async (selector, name, attempts = 8, interval = 150) => {\r\n        for (let i = 0; i < attempts; i++) {\r\n          const li = Array.from(document.querySelectorAll('li')).find(li => li.textContent && li.textContent.toLowerCase().includes(name.toLowerCase()));\r\n          if (li) {\r\n            const btn = li.querySelector(selector);\r\n            if (btn) return btn;\r\n          }\r\n          await new Promise(r => setTimeout(r, interval));\r\n        }\r\n        return null;\r\n      };\r\n\r\n      let el = null;\r\n\r\n      // if the step targets a habit action, prefer the demo habit by name and fall back to API if needed\r\n      if ((s.selector === '.habit-complete-btn' || s.selector === '.habit-delete-btn') && s.demoName) {\r\n        el = await findHabitButtonByName(s.selector, s.demoName);\r\n\r\n        if (!el && token) {\r\n          try {\r\n            const existing = await getHabits(token);\r\n            if (!existing.data.some(h => h.name === s.demoName)) {\r\n              await addHabit(token, s.demoName);\r\n            }\r\n            await new Promise(r => setTimeout(r, 400));\r\n            el = await findHabitButtonByName(s.selector, s.demoName);\r\n          } catch (err) {\r\n            /* ignore */\r\n          }\r\n        }\r\n\r\n        if (!el) {\r\n          // final fallback to any matching selector in the DOM\r\n          el = await findElement(s.selector);\r\n        }\r\n      } else {\r\n        el = await findElement(s.selector);\r\n      }\r\n\r\n      if (!el || cancelled) return;\r\n\r\n      // scroll into view then compute rect\r\n      el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\r\n      await new Promise(r => setTimeout(r, 200));\r\n\r\n      // demo auto-fill / auto-click for specific steps\r\n      try {\r\n        if (s.autoFill) {\r\n          const input = el.tagName.toLowerCase() === 'input' ? el : document.querySelector('.add-habit-input');\r\n          if (input) {\r\n            input.focus();\r\n            input.value = s.autoFill;\r\n            input.dispatchEvent(new Event('input', { bubbles: true }));\r\n            await new Promise(r => setTimeout(r, 220));\r\n\r\n            // if we're on the input step, click the Add button automatically so the demo continues\r\n            if (s.selector === '.add-habit-input') {\r\n              const addBtn = document.querySelector('.add-habit-btn');\r\n              if (addBtn) {\r\n                addBtn.click();\r\n                await new Promise(r => setTimeout(r, 420));\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (s.autoClick) {\r\n          el.click();\r\n          await new Promise(r => setTimeout(r, 380));\r\n        }\r\n        // for the Save step we may have filled the input; if the selector is button we can click it\r\n        if (s.selector === '.add-habit-btn' && s.autoFill) {\r\n          const btn = el;\r\n          if (btn) {\r\n            btn.click();\r\n            await new Promise(r => setTimeout(r, 500));\r\n          }\r\n        }\r\n      } catch (e) { /* ignore demo errors */ }\r\n\r\n      // compute rect (viewport coordinates) and pointer box\r\n      let rect = el.getBoundingClientRect();\r\n\r\n      // if this is the add-habit input (or related), ensure there is enough space above\r\n      const desiredSpaceAbove = 220;\r\n      const isAddHabitTarget = s.selector && s.selector.indexOf('.add-habit') === 0;\r\n      let spaceAbove = rect.top;\r\n\r\n      if (isAddHabitTarget && spaceAbove < desiredSpaceAbove) {\r\n        // attempt to scroll up to create room above the element (clamped to available scroll)\r\n        const need = desiredSpaceAbove - spaceAbove + 20;\r\n        const canScrollUp = Math.min(window.scrollY, need);\r\n        if (canScrollUp > 0) {\r\n          window.scrollBy({ top: -canScrollUp, behavior: 'smooth' });\r\n          await new Promise(r => setTimeout(r, 300));\r\n          rect = el.getBoundingClientRect();\r\n          spaceAbove = rect.top;\r\n        }\r\n      }\r\n\r\n      const pointerBox = {\r\n        top: rect.top + window.scrollY,\r\n        left: rect.left + window.scrollX,\r\n        width: rect.width,\r\n        height: rect.height,\r\n        placement: s.placement || 'top'\r\n      };\r\n      setPointer(pointerBox);\r\n\r\n      // --- Auto-advance demo steps: when the demo action completes, proceed automatically ---\r\n      if (!cancelled && (s.autoFill || s.autoClick || s.demoName)) {\r\n        // poll helper\r\n        const poll = async (fn, attempts = 12, interval = 160) => {\r\n          for (let i = 0; i < attempts; i++) {\r\n            try { if (await fn()) return true; } catch (e) { /* ignore */ }\r\n            await new Promise(r => setTimeout(r, interval));\r\n          }\r\n          return false;\r\n        };\r\n\r\n        const findHabitLi = (name) => Array.from(document.querySelectorAll('li')).find(li => li.textContent && li.textContent.toLowerCase().includes((name||'').toLowerCase()));\r\n\r\n        try {\r\n          if (s.autoFill || s.selector === '.add-habit-btn') {\r\n            const demoName = s.autoFill || s.demoName || 'Brush your teeth';\r\n            await poll(() => !!findHabitLi(demoName), 12, 200);\r\n          }\r\n\r\n          if (s.selector === '.habit-complete-btn' && s.demoName) {\r\n            await poll(() => {\r\n              const li = findHabitLi(s.demoName);\r\n              return !!(li && li.querySelector('.habit-done'));\r\n            }, 12, 160);\r\n          }\r\n\r\n          if (s.selector === '.habit-delete-btn' && s.demoName) {\r\n            await poll(() => !findHabitLi(s.demoName), 12, 160);\r\n          }\r\n        } catch (e) {\r\n          /* ignore */\r\n        }\r\n\r\n        if (!autoAdvanceRef.current) {\r\n          autoAdvanceRef.current = true;\r\n          setTimeout(() => {\r\n            autoAdvanceRef.current = false;\r\n            if (cancelled) return;\r\n            if (step >= interactiveSteps.length - 1) {\r\n              finish();\r\n            } else {\r\n              setStep(x => Math.min(interactiveSteps.length - 1, x + 1));\r\n            }\r\n          }, 650);\r\n        }\r\n      }\r\n\r\n      // position the tutorial card attached to the target (prefer above the input)\r\n      const viewportCenterX = rect.left + rect.width / 2;\r\n      const preferAbove = isAddHabitTarget || (spaceAbove > (window.innerHeight - (rect.top + rect.height)) );\r\n      const margin = 12;\r\n      let topPx, transform;\r\n      if (preferAbove) {\r\n        // place card above the element (card bottom sits margin px above element top)\r\n        topPx = Math.max(12, rect.top - margin);\r\n        transform = 'translate(-50%, -100%)';\r\n      } else {\r\n        // place card below the element\r\n        topPx = Math.min(window.innerHeight - 12, rect.top + rect.height + margin);\r\n        transform = 'translate(-50%, 0%)';\r\n      }\r\n\r\n      const clampLeft = Math.min(Math.max(viewportCenterX, 16), window.innerWidth - 16);\r\n      setCardStyle({ position: 'fixed', top: Math.round(topPx), left: Math.round(clampLeft), transform, zIndex: 13000 });\r\n\r\n      // after render, nudge card further upwards if it would overlap the target\r\n      await new Promise(r => requestAnimationFrame(r));\r\n      if (cardRef.current && preferAbove) {\r\n        const cardRect = cardRef.current.getBoundingClientRect();\r\n        const cardBottom = cardRect.top + cardRect.height;\r\n        const gap = rect.top - cardBottom;\r\n        if (gap < 8) {\r\n          // move card further up so there's an 8px gap\r\n          const extra = 8 - gap;\r\n          setCardStyle(prev => prev ? ({ ...prev, top: Math.max(8, prev.top - extra - 8) }) : prev);\r\n        }\r\n      }\r\n    })();\r\n\r\n    return () => { cancelled = true; };\r\n  }, [step, visible, token]);\r\n\r\n  if (!visible) return null;\r\n\r\n  const steps = interactiveSteps;\r\n\r\n  const finish = async () => {\r\n    try {\r\n      localStorage.setItem('tutorialSeen', 'true');\r\n      if (token) {\r\n        try { await setTutorialSeen(token); } catch (e) {}\r\n      }\r\n    } catch (e) {}\r\n    onClose();\r\n  };\r\n\r\n  const s = steps[step];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"tutorial-overlay\" role=\"dialog\" aria-modal=\"true\">\r\n        {pointer && (\r\n          <>\r\n            <div\r\n              className=\"tutorial-highlight\"\r\n              style={{\r\n                top: pointer.top - 8,\r\n                left: pointer.left - 8,\r\n                width: pointer.width + 16,\r\n                height: pointer.height + 16\r\n              }}\r\n            />\r\n            <div\r\n              className={`tutorial-pointer tutorial-pointer-${pointer.placement}`}\r\n              style={{\r\n                top: (pointer.placement === 'bottom') ? (pointer.top + pointer.height + 12) : (pointer.top - 12),\r\n                left: pointer.left + pointer.width / 2\r\n              }}\r\n            >\r\n              <div className=\"tutorial-pointer-label\">{s.title}</div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        <div\r\n          ref={cardRef}\r\n          className={`tutorial-card ${cardStyle ? 'tutorial-card--attached' : ''}`}\r\n          role=\"document\"\r\n          style={cardStyle ? cardStyle : { zIndex: 13000 }}\r\n        >\r\n          <div className=\"tutorial-header\">\r\n            <div className=\"tutorial-step\">Step {step + 1} / {steps.length}</div>\r\n            <button className=\"tutorial-skip\" onClick={finish}>Skip</button>\r\n          </div>\r\n          <h3 className=\"tutorial-title\">{s.title}</h3>\r\n          <p className=\"tutorial-body\">{s.body}</p>\r\n          <div className=\"tutorial-actions\">\r\n            <button disabled={step === 0} onClick={() => setStep(x => Math.max(0, x - 1))}>Back</button>\r\n            {step < steps.length - 1 ? (\r\n              <button onClick={() => setStep(x => Math.min(steps.length - 1, x + 1))}>Next</button>\r\n            ) : (\r\n              <button ref={finishBtnRef} className=\"finish\" onClick={finish}>Finish</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"sHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,eAAe,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE5D;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,WAAWA,CAACC,QAAQ,CAAiC,IAA/B,CAAAC,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAG,QAAQ,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAG,CAC1D,MAAO,IAAI,CAAAI,OAAO,CAACC,OAAO,EAAI,CAC5B,GAAI,CAAAC,CAAC,CAAG,CAAC,CACT,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,EAAE,CAAGC,QAAQ,CAACC,aAAa,CAACZ,QAAQ,CAAC,CAC3C,GAAIU,EAAE,CAAE,MAAO,CAAAH,OAAO,CAACG,EAAE,CAAC,CAC1BF,CAAC,EAAI,CAAC,CACN,GAAIA,CAAC,EAAIP,QAAQ,CAAE,MAAO,CAAAM,OAAO,CAAC,IAAI,CAAC,CACvCM,UAAU,CAACJ,IAAI,CAAEJ,QAAQ,CAAC,CAC5B,CAAC,CACDI,IAAI,CAAC,CAAC,CACR,CAAC,CAAC,CACJ,CAEA,cAAe,SAAS,CAAAK,QAAQA,CAAAC,IAAA,CAAuC,IAAtC,CAAEC,OAAO,CAAEC,OAAO,CAAEC,KAAK,CAAEC,OAAQ,CAAC,CAAAJ,IAAA,CACnE,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGlC,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACmC,OAAO,CAAEC,UAAU,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CAAE;AAC9C,KAAM,CAACqC,SAAS,CAAEC,YAAY,CAAC,CAAGtC,QAAQ,CAAC,IAAI,CAAC,CAAE;AAClD,KAAM,CAAAuC,YAAY,CAAGrC,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAsC,OAAO,CAAGtC,MAAM,CAAC,IAAI,CAAC,CAC5B,KAAM,CAAAuC,cAAc,CAAGvC,MAAM,CAAC,KAAK,CAAC,CACpC,KAAM,CAAAwC,UAAU,CAAGxC,MAAM,CAAC,KAAK,CAAC,CAEhC,KAAM,CAAAyC,gBAAgB,CAAG,CACvB,CACEC,KAAK,CAAE,SAAS,CAChBC,IAAI,CAAE,mEACR,CAAC,CACD,CACED,KAAK,CAAE,aAAa,CACpBC,IAAI,CAAE,mFAAmF,CACzFhC,QAAQ,CAAE,kBAAkB,CAC5BiC,SAAS,CAAE,OAAO,CAClBC,IAAI,CAAE,MAAM,CACZC,QAAQ,CAAE,kBACZ,CAAC,CACD,CACEJ,KAAK,CAAE,gBAAgB,CACvBC,IAAI,CAAE,sEAAsE,CAC5EhC,QAAQ,CAAE,gBAAgB,CAC1BiC,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAE,MACR,CAAC,CACD,CACEH,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,gGAAgG,CACtGhC,QAAQ,CAAE,qBAAqB,CAC/BiC,SAAS,CAAE,MAAM,CACjBC,IAAI,CAAE,MAAM,CACZE,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAE,kBACZ,CAAC,CACD,CACEN,KAAK,CAAE,gBAAgB,CACvBC,IAAI,CAAE,gDAAgD,CACtDhC,QAAQ,CAAE,mBAAmB,CAC7BiC,SAAS,CAAE,MAAM,CACjBC,IAAI,CAAE,MAAM,CACZG,QAAQ,CAAE,kBACZ,CAAC,CACF,CAEDjD,SAAS,CAAC,IAAM,CACd,GAAI4B,OAAO,CAAE,CACXsB,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CACjElB,OAAO,CAAC,CAAC,CAAC,CACVE,UAAU,CAAC,IAAI,CAAC,CAChBM,UAAU,CAACW,OAAO,CAAG,KAAK,CAC1B7B,QAAQ,CAACqB,IAAI,CAACS,KAAK,CAACC,QAAQ,CAAG,QAAQ,CACvC7B,UAAU,CAAC,SAAA8B,qBAAA,QAAAA,qBAAA,CAAMjB,YAAY,CAACc,OAAO,UAAAG,qBAAA,iBAApBA,qBAAA,CAAsBC,KAAK,CAAC,CAAC,GAAE,GAAG,CAAC,CAEpD;AACA/B,UAAU,CAAC,IAAM,CACf,GAAI,CAACgB,UAAU,CAACW,OAAO,EAAIxB,OAAO,CAAE,CAClCa,UAAU,CAACW,OAAO,CAAG,IAAI,CACzBnB,OAAO,CAAC,CAAC,CAAC,CAAE;AACd,CACF,CAAC,CAAE,GAAG,CAAC,CAEP,MAAO,IAAM,CAAEV,QAAQ,CAACqB,IAAI,CAACS,KAAK,CAACC,QAAQ,CAAG,EAAE,CAAE,CAAC,CACrD,CAAC,IAAM,CACLJ,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CACxC,CACF,CAAC,CAAE,CAACvB,OAAO,CAAC,CAAC,CAEb;AACA5B,SAAS,CAAC,IAAM,CACd,GAAI,CAAC4B,OAAO,CAAE,OACd,KAAM,CAAA6B,CAAC,CAAGf,gBAAgB,CAACV,IAAI,CAAC,CAChC,GAAI,CAAA0B,SAAS,CAAG,KAAK,CAErB,CAAC,SAAY,CACXvB,UAAU,CAAC,IAAI,CAAC,CAChBE,YAAY,CAAC,IAAI,CAAC,CAClB,GAAIoB,CAAC,SAADA,CAAC,WAADA,CAAC,CAAEX,IAAI,EAAIf,OAAO,CAAEA,OAAO,CAAC0B,CAAC,CAACX,IAAI,CAAC,CACvC,GAAI,EAACW,CAAC,SAADA,CAAC,WAADA,CAAC,CAAE7C,QAAQ,EAAE,OAElB;AACA,KAAM,CAAA+C,qBAAqB,CAAG,cAAAA,CAAO/C,QAAQ,CAAEgD,IAAI,CAAmC,IAAjC,CAAA/C,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,QAAQ,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAG,CAC/E,IAAK,GAAI,CAAAM,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,QAAQ,CAAEO,CAAC,EAAE,CAAE,CACjC,KAAM,CAAAyC,EAAE,CAAGC,KAAK,CAACC,IAAI,CAACxC,QAAQ,CAACyC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAACC,IAAI,CAACJ,EAAE,EAAIA,EAAE,CAACK,WAAW,EAAIL,EAAE,CAACK,WAAW,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACR,IAAI,CAACO,WAAW,CAAC,CAAC,CAAC,CAAC,CAC9I,GAAIN,EAAE,CAAE,CACN,KAAM,CAAAQ,GAAG,CAAGR,EAAE,CAACrC,aAAa,CAACZ,QAAQ,CAAC,CACtC,GAAIyD,GAAG,CAAE,MAAO,CAAAA,GAAG,CACrB,CACA,KAAM,IAAI,CAAAnD,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAErD,QAAQ,CAAC,CAAC,CACjD,CACA,MAAO,KAAI,CACb,CAAC,CAED,GAAI,CAAAK,EAAE,CAAG,IAAI,CAEb;AACA,GAAI,CAACmC,CAAC,CAAC7C,QAAQ,GAAK,qBAAqB,EAAI6C,CAAC,CAAC7C,QAAQ,GAAK,mBAAmB,GAAK6C,CAAC,CAACR,QAAQ,CAAE,CAC9F3B,EAAE,CAAG,KAAM,CAAAqC,qBAAqB,CAACF,CAAC,CAAC7C,QAAQ,CAAE6C,CAAC,CAACR,QAAQ,CAAC,CAExD,GAAI,CAAC3B,EAAE,EAAIQ,KAAK,CAAE,CAChB,GAAI,CACF,KAAM,CAAAyC,QAAQ,CAAG,KAAM,CAAAnE,SAAS,CAAC0B,KAAK,CAAC,CACvC,GAAI,CAACyC,QAAQ,CAACC,IAAI,CAACC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACd,IAAI,GAAKH,CAAC,CAACR,QAAQ,CAAC,CAAE,CACnD,KAAM,CAAA9C,QAAQ,CAAC2B,KAAK,CAAE2B,CAAC,CAACR,QAAQ,CAAC,CACnC,CACA,KAAM,IAAI,CAAA/B,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAC1ChD,EAAE,CAAG,KAAM,CAAAqC,qBAAqB,CAACF,CAAC,CAAC7C,QAAQ,CAAE6C,CAAC,CAACR,QAAQ,CAAC,CAC1D,CAAE,MAAO0B,GAAG,CAAE,CACZ,aAEJ,CAEA,GAAI,CAACrD,EAAE,CAAE,CACP;AACAA,EAAE,CAAG,KAAM,CAAAX,WAAW,CAAC8C,CAAC,CAAC7C,QAAQ,CAAC,CACpC,CACF,CAAC,IAAM,CACLU,EAAE,CAAG,KAAM,CAAAX,WAAW,CAAC8C,CAAC,CAAC7C,QAAQ,CAAC,CACpC,CAEA,GAAI,CAACU,EAAE,EAAIoC,SAAS,CAAE,OAEtB;AACApC,EAAE,CAACsD,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAC,CAAC,CAC5E,KAAM,IAAI,CAAA7D,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAE1C;AACA,GAAI,CACF,GAAIb,CAAC,CAACV,QAAQ,CAAE,CACd,KAAM,CAAAiC,KAAK,CAAG1D,EAAE,CAAC2D,OAAO,CAACd,WAAW,CAAC,CAAC,GAAK,OAAO,CAAG7C,EAAE,CAAGC,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC,CACpG,GAAIwD,KAAK,CAAE,CACTA,KAAK,CAACxB,KAAK,CAAC,CAAC,CACbwB,KAAK,CAACE,KAAK,CAAGzB,CAAC,CAACV,QAAQ,CACxBiC,KAAK,CAACG,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,OAAO,CAAE,CAAEC,OAAO,CAAE,IAAK,CAAC,CAAC,CAAC,CAC1D,KAAM,IAAI,CAAAnE,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAE1C;AACA,GAAIb,CAAC,CAAC7C,QAAQ,GAAK,kBAAkB,CAAE,CACrC,KAAM,CAAA0E,MAAM,CAAG/D,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC,CACvD,GAAI8D,MAAM,CAAE,CACVA,MAAM,CAACC,KAAK,CAAC,CAAC,CACd,KAAM,IAAI,CAAArE,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAC5C,CACF,CACF,CACF,CACA,GAAIb,CAAC,CAACT,SAAS,CAAE,CACf1B,EAAE,CAACiE,KAAK,CAAC,CAAC,CACV,KAAM,IAAI,CAAArE,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAC5C,CACA;AACA,GAAIb,CAAC,CAAC7C,QAAQ,GAAK,gBAAgB,EAAI6C,CAAC,CAACV,QAAQ,CAAE,CACjD,KAAM,CAAAsB,GAAG,CAAG/C,EAAE,CACd,GAAI+C,GAAG,CAAE,CACPA,GAAG,CAACkB,KAAK,CAAC,CAAC,CACX,KAAM,IAAI,CAAArE,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAC5C,CACF,CACF,CAAE,MAAOkB,CAAC,CAAE,CAAE,yBAEd;AACA,GAAI,CAAAC,IAAI,CAAGnE,EAAE,CAACoE,qBAAqB,CAAC,CAAC,CAErC;AACA,KAAM,CAAAC,iBAAiB,CAAG,GAAG,CAC7B,KAAM,CAAAC,gBAAgB,CAAGnC,CAAC,CAAC7C,QAAQ,EAAI6C,CAAC,CAAC7C,QAAQ,CAACiF,OAAO,CAAC,YAAY,CAAC,GAAK,CAAC,CAC7E,GAAI,CAAAC,UAAU,CAAGL,IAAI,CAACM,GAAG,CAEzB,GAAIH,gBAAgB,EAAIE,UAAU,CAAGH,iBAAiB,CAAE,CACtD;AACA,KAAM,CAAAK,IAAI,CAAGL,iBAAiB,CAAGG,UAAU,CAAG,EAAE,CAChD,KAAM,CAAAG,WAAW,CAAGC,IAAI,CAACC,GAAG,CAACC,MAAM,CAACC,OAAO,CAAEL,IAAI,CAAC,CAClD,GAAIC,WAAW,CAAG,CAAC,CAAE,CACnBG,MAAM,CAACE,QAAQ,CAAC,CAAEP,GAAG,CAAE,CAACE,WAAW,CAAEpB,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC1D,KAAM,IAAI,CAAA3D,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAE,GAAG,CAAC,CAAC,CAC1CmB,IAAI,CAAGnE,EAAE,CAACoE,qBAAqB,CAAC,CAAC,CACjCI,UAAU,CAAGL,IAAI,CAACM,GAAG,CACvB,CACF,CAEA,KAAM,CAAAQ,UAAU,CAAG,CACjBR,GAAG,CAAEN,IAAI,CAACM,GAAG,CAAGK,MAAM,CAACC,OAAO,CAC9BG,IAAI,CAAEf,IAAI,CAACe,IAAI,CAAGJ,MAAM,CAACK,OAAO,CAChCC,KAAK,CAAEjB,IAAI,CAACiB,KAAK,CACjBC,MAAM,CAAElB,IAAI,CAACkB,MAAM,CACnB9D,SAAS,CAAEY,CAAC,CAACZ,SAAS,EAAI,KAC5B,CAAC,CACDV,UAAU,CAACoE,UAAU,CAAC,CAEtB;AACA,GAAI,CAAC7C,SAAS,GAAKD,CAAC,CAACV,QAAQ,EAAIU,CAAC,CAACT,SAAS,EAAIS,CAAC,CAACR,QAAQ,CAAC,CAAE,CAC3D;AACA,KAAM,CAAA2D,IAAI,CAAG,cAAAA,CAAOC,EAAE,CAAoC,IAAlC,CAAAhG,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAG,QAAQ,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAG,CACnD,IAAK,GAAI,CAAAM,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,QAAQ,CAAEO,CAAC,EAAE,CAAE,CACjC,GAAI,CAAE,GAAI,KAAM,CAAAyF,EAAE,CAAC,CAAC,CAAE,MAAO,KAAI,CAAE,CAAE,MAAOrB,CAAC,CAAE,CAAE,aACjD,KAAM,IAAI,CAAAtE,OAAO,CAACoD,CAAC,EAAI7C,UAAU,CAAC6C,CAAC,CAAErD,QAAQ,CAAC,CAAC,CACjD,CACA,MAAO,MAAK,CACd,CAAC,CAED,KAAM,CAAA6F,WAAW,CAAIlD,IAAI,EAAKE,KAAK,CAACC,IAAI,CAACxC,QAAQ,CAACyC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAACC,IAAI,CAACJ,EAAE,EAAIA,EAAE,CAACK,WAAW,EAAIL,EAAE,CAACK,WAAW,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,CAACR,IAAI,EAAE,EAAE,EAAEO,WAAW,CAAC,CAAC,CAAC,CAAC,CAEvK,GAAI,CACF,GAAIV,CAAC,CAACV,QAAQ,EAAIU,CAAC,CAAC7C,QAAQ,GAAK,gBAAgB,CAAE,CACjD,KAAM,CAAAqC,QAAQ,CAAGQ,CAAC,CAACV,QAAQ,EAAIU,CAAC,CAACR,QAAQ,EAAI,kBAAkB,CAC/D,KAAM,CAAA2D,IAAI,CAAC,IAAM,CAAC,CAACE,WAAW,CAAC7D,QAAQ,CAAC,CAAE,EAAE,CAAE,GAAG,CAAC,CACpD,CAEA,GAAIQ,CAAC,CAAC7C,QAAQ,GAAK,qBAAqB,EAAI6C,CAAC,CAACR,QAAQ,CAAE,CACtD,KAAM,CAAA2D,IAAI,CAAC,IAAM,CACf,KAAM,CAAA/C,EAAE,CAAGiD,WAAW,CAACrD,CAAC,CAACR,QAAQ,CAAC,CAClC,MAAO,CAAC,EAAEY,EAAE,EAAIA,EAAE,CAACrC,aAAa,CAAC,aAAa,CAAC,CAAC,CAClD,CAAC,CAAE,EAAE,CAAE,GAAG,CAAC,CACb,CAEA,GAAIiC,CAAC,CAAC7C,QAAQ,GAAK,mBAAmB,EAAI6C,CAAC,CAACR,QAAQ,CAAE,CACpD,KAAM,CAAA2D,IAAI,CAAC,IAAM,CAACE,WAAW,CAACrD,CAAC,CAACR,QAAQ,CAAC,CAAE,EAAE,CAAE,GAAG,CAAC,CACrD,CACF,CAAE,MAAOuC,CAAC,CAAE,CACV,aAGF,GAAI,CAAChD,cAAc,CAACY,OAAO,CAAE,CAC3BZ,cAAc,CAACY,OAAO,CAAG,IAAI,CAC7B3B,UAAU,CAAC,IAAM,CACfe,cAAc,CAACY,OAAO,CAAG,KAAK,CAC9B,GAAIM,SAAS,CAAE,OACf,GAAI1B,IAAI,EAAIU,gBAAgB,CAAC3B,MAAM,CAAG,CAAC,CAAE,CACvCgG,MAAM,CAAC,CAAC,CACV,CAAC,IAAM,CACL9E,OAAO,CAAC+E,CAAC,EAAId,IAAI,CAACC,GAAG,CAACzD,gBAAgB,CAAC3B,MAAM,CAAG,CAAC,CAAEiG,CAAC,CAAG,CAAC,CAAC,CAAC,CAC5D,CACF,CAAC,CAAE,GAAG,CAAC,CACT,CACF,CAEA;AACA,KAAM,CAAAC,eAAe,CAAGxB,IAAI,CAACe,IAAI,CAAGf,IAAI,CAACiB,KAAK,CAAG,CAAC,CAClD,KAAM,CAAAQ,WAAW,CAAGtB,gBAAgB,EAAKE,UAAU,CAAIM,MAAM,CAACe,WAAW,EAAI1B,IAAI,CAACM,GAAG,CAAGN,IAAI,CAACkB,MAAM,CAAI,CACvG,KAAM,CAAAS,MAAM,CAAG,EAAE,CACjB,GAAI,CAAAC,KAAK,CAAEC,SAAS,CACpB,GAAIJ,WAAW,CAAE,CACf;AACAG,KAAK,CAAGnB,IAAI,CAACqB,GAAG,CAAC,EAAE,CAAE9B,IAAI,CAACM,GAAG,CAAGqB,MAAM,CAAC,CACvCE,SAAS,CAAG,wBAAwB,CACtC,CAAC,IAAM,CACL;AACAD,KAAK,CAAGnB,IAAI,CAACC,GAAG,CAACC,MAAM,CAACe,WAAW,CAAG,EAAE,CAAE1B,IAAI,CAACM,GAAG,CAAGN,IAAI,CAACkB,MAAM,CAAGS,MAAM,CAAC,CAC1EE,SAAS,CAAG,qBAAqB,CACnC,CAEA,KAAM,CAAAE,SAAS,CAAGtB,IAAI,CAACC,GAAG,CAACD,IAAI,CAACqB,GAAG,CAACN,eAAe,CAAE,EAAE,CAAC,CAAEb,MAAM,CAACqB,UAAU,CAAG,EAAE,CAAC,CACjFpF,YAAY,CAAC,CAAEqF,QAAQ,CAAE,OAAO,CAAE3B,GAAG,CAAEG,IAAI,CAACyB,KAAK,CAACN,KAAK,CAAC,CAAEb,IAAI,CAAEN,IAAI,CAACyB,KAAK,CAACH,SAAS,CAAC,CAAEF,SAAS,CAAEM,MAAM,CAAE,KAAM,CAAC,CAAC,CAElH;AACA,KAAM,IAAI,CAAA1G,OAAO,CAACoD,CAAC,EAAIuD,qBAAqB,CAACvD,CAAC,CAAC,CAAC,CAChD,GAAI/B,OAAO,CAACa,OAAO,EAAI8D,WAAW,CAAE,CAClC,KAAM,CAAAY,QAAQ,CAAGvF,OAAO,CAACa,OAAO,CAACsC,qBAAqB,CAAC,CAAC,CACxD,KAAM,CAAAqC,UAAU,CAAGD,QAAQ,CAAC/B,GAAG,CAAG+B,QAAQ,CAACnB,MAAM,CACjD,KAAM,CAAAqB,GAAG,CAAGvC,IAAI,CAACM,GAAG,CAAGgC,UAAU,CACjC,GAAIC,GAAG,CAAG,CAAC,CAAE,CACX;AACA,KAAM,CAAAC,KAAK,CAAG,CAAC,CAAGD,GAAG,CACrB3F,YAAY,CAAC6F,IAAI,EAAIA,IAAI,CAAAC,aAAA,CAAAA,aAAA,IAASD,IAAI,MAAEnC,GAAG,CAAEG,IAAI,CAACqB,GAAG,CAAC,CAAC,CAAEW,IAAI,CAACnC,GAAG,CAAGkC,KAAK,CAAG,CAAC,CAAC,GAAMC,IAAI,CAAC,CAC3F,CACF,CACF,CAAC,EAAE,CAAC,CAEJ,MAAO,IAAM,CAAExE,SAAS,CAAG,IAAI,CAAE,CAAC,CACpC,CAAC,CAAE,CAAC1B,IAAI,CAAEJ,OAAO,CAAEE,KAAK,CAAC,CAAC,CAE1B,GAAI,CAACF,OAAO,CAAE,MAAO,KAAI,CAEzB,KAAM,CAAAwG,KAAK,CAAG1F,gBAAgB,CAE9B,KAAM,CAAAqE,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CACFsB,YAAY,CAACC,OAAO,CAAC,cAAc,CAAE,MAAM,CAAC,CAC5C,GAAIxG,KAAK,CAAE,CACT,GAAI,CAAE,KAAM,CAAA5B,eAAe,CAAC4B,KAAK,CAAC,CAAE,CAAE,MAAO0D,CAAC,CAAE,CAAC,CACnD,CACF,CAAE,MAAOA,CAAC,CAAE,CAAC,CACb3D,OAAO,CAAC,CAAC,CACX,CAAC,CAED,KAAM,CAAA4B,CAAC,CAAG2E,KAAK,CAACpG,IAAI,CAAC,CAErB,mBACE1B,IAAA,CAAAE,SAAA,EAAA+H,QAAA,cACE7H,KAAA,QAAK8H,SAAS,CAAC,kBAAkB,CAACC,IAAI,CAAC,QAAQ,CAAC,aAAW,MAAM,CAAAF,QAAA,EAC9DrG,OAAO,eACNxB,KAAA,CAAAF,SAAA,EAAA+H,QAAA,eACEjI,IAAA,QACEkI,SAAS,CAAC,oBAAoB,CAC9BnF,KAAK,CAAE,CACL0C,GAAG,CAAE7D,OAAO,CAAC6D,GAAG,CAAG,CAAC,CACpBS,IAAI,CAAEtE,OAAO,CAACsE,IAAI,CAAG,CAAC,CACtBE,KAAK,CAAExE,OAAO,CAACwE,KAAK,CAAG,EAAE,CACzBC,MAAM,CAAEzE,OAAO,CAACyE,MAAM,CAAG,EAC3B,CAAE,CACH,CAAC,cACFrG,IAAA,QACEkI,SAAS,sCAAAE,MAAA,CAAuCxG,OAAO,CAACW,SAAS,CAAG,CACpEQ,KAAK,CAAE,CACL0C,GAAG,CAAG7D,OAAO,CAACW,SAAS,GAAK,QAAQ,CAAKX,OAAO,CAAC6D,GAAG,CAAG7D,OAAO,CAACyE,MAAM,CAAG,EAAE,CAAKzE,OAAO,CAAC6D,GAAG,CAAG,EAAG,CAChGS,IAAI,CAAEtE,OAAO,CAACsE,IAAI,CAAGtE,OAAO,CAACwE,KAAK,CAAG,CACvC,CAAE,CAAA6B,QAAA,cAEFjI,IAAA,QAAKkI,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAE9E,CAAC,CAACd,KAAK,CAAM,CAAC,CACpD,CAAC,EACN,CACH,cAEDjC,KAAA,QACEiI,GAAG,CAAEpG,OAAQ,CACbiG,SAAS,kBAAAE,MAAA,CAAmBtG,SAAS,CAAG,yBAAyB,CAAG,EAAE,CAAG,CACzEqG,IAAI,CAAC,UAAU,CACfpF,KAAK,CAAEjB,SAAS,CAAGA,SAAS,CAAG,CAAEwF,MAAM,CAAE,KAAM,CAAE,CAAAW,QAAA,eAEjD7H,KAAA,QAAK8H,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9B7H,KAAA,QAAK8H,SAAS,CAAC,eAAe,CAAAD,QAAA,EAAC,OAAK,CAACvG,IAAI,CAAG,CAAC,CAAC,KAAG,CAACoG,KAAK,CAACrH,MAAM,EAAM,CAAC,cACrET,IAAA,WAAQkI,SAAS,CAAC,eAAe,CAACI,OAAO,CAAE7B,MAAO,CAAAwB,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC7D,CAAC,cACNjI,IAAA,OAAIkI,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAE9E,CAAC,CAACd,KAAK,CAAK,CAAC,cAC7CrC,IAAA,MAAGkI,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAE9E,CAAC,CAACb,IAAI,CAAI,CAAC,cACzClC,KAAA,QAAK8H,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BjI,IAAA,WAAQuI,QAAQ,CAAE7G,IAAI,GAAK,CAAE,CAAC4G,OAAO,CAAEA,CAAA,GAAM3G,OAAO,CAAC+E,CAAC,EAAId,IAAI,CAACqB,GAAG,CAAC,CAAC,CAAEP,CAAC,CAAG,CAAC,CAAC,CAAE,CAAAuB,QAAA,CAAC,MAAI,CAAQ,CAAC,CAC3FvG,IAAI,CAAGoG,KAAK,CAACrH,MAAM,CAAG,CAAC,cACtBT,IAAA,WAAQsI,OAAO,CAAEA,CAAA,GAAM3G,OAAO,CAAC+E,CAAC,EAAId,IAAI,CAACC,GAAG,CAACiC,KAAK,CAACrH,MAAM,CAAG,CAAC,CAAEiG,CAAC,CAAG,CAAC,CAAC,CAAE,CAAAuB,QAAA,CAAC,MAAI,CAAQ,CAAC,cAErFjI,IAAA,WAAQqI,GAAG,CAAErG,YAAa,CAACkG,SAAS,CAAC,QAAQ,CAACI,OAAO,CAAE7B,MAAO,CAAAwB,QAAA,CAAC,QAAM,CAAQ,CAC9E,EACE,CAAC,EACH,CAAC,EACH,CAAC,CACN,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}