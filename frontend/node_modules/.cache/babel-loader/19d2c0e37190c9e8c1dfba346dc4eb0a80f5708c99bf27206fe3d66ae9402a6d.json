{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{setTutorialSeen,addHabit,getHabits}from'./api';// Helper: find element with retry\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function findElement(selector){let attempts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;let interval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:120;return new Promise(resolve=>{let i=0;const tick=()=>{const el=document.querySelector(selector);if(el)return resolve(el);i+=1;if(i>=attempts)return resolve(null);setTimeout(tick,interval);};tick();});}export default function Tutorial(_ref){let{visible,onClose,token,setPage}=_ref;const[step,setStep]=useState(0);const[pointer,setPointer]=useState(null);// {top,left,width,height,placement}\nconst finishBtnRef=useRef(null);const interactiveSteps=[{title:'Welcome',body:'This quick interactive tour shows how to add and complete habits.'},{title:'Add a Habit',body:'Type a short habit name in this field. (We will demo \"Brush your teeth\" for you.)',selector:'.add-habit-input',placement:'right',page:'home'},{title:'Save the Habit',body:'Click the Add button to save your habit. We will add it automatically for the demo.',selector:'.add-habit-btn',placement:'bottom',page:'home',autoFill:'Brush your teeth'},{title:'Mark Complete',body:'Tap the mark-as-done button to record a completion for today. We will briefly show the effect.',selector:'.habit-complete-btn',placement:'left',page:'home',autoClick:true,demoName:'Brush your teeth'},{title:'Delete a Habit',body:'You can remove habits using the delete button.',selector:'.habit-delete-btn',placement:'left',page:'home',demoName:'Brush your teeth'}];useEffect(()=>{if(visible){console.log('Tutorial: visible true — mounting tutorial overlay');setStep(0);setPointer(null);document.body.style.overflow='hidden';setTimeout(()=>{var _finishBtnRef$current;return(_finishBtnRef$current=finishBtnRef.current)===null||_finishBtnRef$current===void 0?void 0:_finishBtnRef$current.focus();},120);return()=>{document.body.style.overflow='';};}else{console.log('Tutorial: visible false');}},[visible]);// when step changes, if it has a selector, try to locate and position the pointer/highlight\nuseEffect(()=>{if(!visible)return;const s=interactiveSteps[step];let cancelled=false;(async()=>{setPointer(null);if(s!==null&&s!==void 0&&s.page&&setPage)setPage(s.page);if(!(s!==null&&s!==void 0&&s.selector))return;// helper: find the button for a habit by name inside the list\nconst findHabitButtonByName=async function(selector,name){let attempts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;let interval=arguments.length>3&&arguments[3]!==undefined?arguments[3]:150;for(let i=0;i<attempts;i++){const li=Array.from(document.querySelectorAll('li')).find(li=>li.textContent&&li.textContent.toLowerCase().includes(name.toLowerCase()));if(li){const btn=li.querySelector(selector);if(btn)return btn;}await new Promise(r=>setTimeout(r,interval));}return null;};let el=null;// if the step targets a habit action, prefer the demo habit by name and fall back to API if needed\nif((s.selector==='.habit-complete-btn'||s.selector==='.habit-delete-btn')&&s.demoName){el=await findHabitButtonByName(s.selector,s.demoName);if(!el&&token){try{const existing=await getHabits(token);if(!existing.data.some(h=>h.name===s.demoName)){await addHabit(token,s.demoName);}await new Promise(r=>setTimeout(r,400));el=await findHabitButtonByName(s.selector,s.demoName);}catch(err){/* ignore */}}if(!el){// final fallback to any matching selector in the DOM\nel=await findElement(s.selector);}}else{el=await findElement(s.selector);}if(!el||cancelled)return;// scroll into view then compute rect\nel.scrollIntoView({behavior:'smooth',block:'center',inline:'center'});await new Promise(r=>setTimeout(r,200));// demo auto-fill / auto-click for specific steps\ntry{if(s.autoFill){const input=el.tagName.toLowerCase()==='input'?el:document.querySelector('.add-habit-input');if(input){input.focus();input.value=s.autoFill;input.dispatchEvent(new Event('input',{bubbles:true}));await new Promise(r=>setTimeout(r,220));}}if(s.autoClick){el.click();await new Promise(r=>setTimeout(r,380));}// for the Save step we may have filled the input; if the selector is button we can click it\nif(s.selector==='.add-habit-btn'&&s.autoFill){const btn=el;if(btn){btn.click();await new Promise(r=>setTimeout(r,500));}}}catch(e){/* ignore demo errors */}const rect=el.getBoundingClientRect();const pointerBox={top:rect.top+window.scrollY,left:rect.left+window.scrollX,width:rect.width,height:rect.height,placement:s.placement||'top'};setPointer(pointerBox);})();return()=>{cancelled=true;};},[step,visible,token]);if(!visible)return null;const steps=interactiveSteps;const finish=async()=>{try{localStorage.setItem('tutorialSeen','true');if(token){try{await setTutorialSeen(token);}catch(e){}}}catch(e){}onClose();};const s=steps[step];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-overlay\",role:\"dialog\",\"aria-modal\":\"true\",children:[pointer&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-highlight\",style:{top:pointer.top-8,left:pointer.left-8,width:pointer.width+16,height:pointer.height+16}}),/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-pointer tutorial-pointer-\".concat(pointer.placement),style:{top:pointer.placement==='bottom'?pointer.top+pointer.height+12:pointer.top-12,left:pointer.left+pointer.width/2},children:/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-pointer-label\",children:s.title})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-card\",role:\"document\",style:{zIndex:13000},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-step\",children:[\"Step \",step+1,\" / \",steps.length]}),/*#__PURE__*/_jsx(\"button\",{className:\"tutorial-skip\",onClick:finish,children:\"Skip\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"tutorial-title\",children:s.title}),/*#__PURE__*/_jsx(\"p\",{className:\"tutorial-body\",children:s.body}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-actions\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:step===0,onClick:()=>setStep(x=>Math.max(0,x-1)),children:\"Back\"}),step<steps.length-1?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(x=>Math.min(steps.length-1,x+1)),children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{ref:finishBtnRef,className:\"finish\",onClick:finish,children:\"Finish\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","setTutorialSeen","addHabit","getHabits","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","findElement","selector","attempts","arguments","length","undefined","interval","Promise","resolve","i","tick","el","document","querySelector","setTimeout","Tutorial","_ref","visible","onClose","token","setPage","step","setStep","pointer","setPointer","finishBtnRef","interactiveSteps","title","body","placement","page","autoFill","autoClick","demoName","console","log","style","overflow","_finishBtnRef$current","current","focus","s","cancelled","findHabitButtonByName","name","li","Array","from","querySelectorAll","find","textContent","toLowerCase","includes","btn","r","existing","data","some","h","err","scrollIntoView","behavior","block","inline","input","tagName","value","dispatchEvent","Event","bubbles","click","e","rect","getBoundingClientRect","pointerBox","top","window","scrollY","left","scrollX","width","height","steps","finish","localStorage","setItem","children","className","role","concat","zIndex","onClick","disabled","x","Math","max","min","ref"],"sources":["E:/New folder/New folder/frontend/src/Tutorial.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { setTutorialSeen, addHabit, getHabits } from './api';\r\n\r\n// Helper: find element with retry\r\nfunction findElement(selector, attempts = 12, interval = 120) {\r\n  return new Promise(resolve => {\r\n    let i = 0;\r\n    const tick = () => {\r\n      const el = document.querySelector(selector);\r\n      if (el) return resolve(el);\r\n      i += 1;\r\n      if (i >= attempts) return resolve(null);\r\n      setTimeout(tick, interval);\r\n    };\r\n    tick();\r\n  });\r\n}\r\n\r\nexport default function Tutorial({ visible, onClose, token, setPage }) {\r\n  const [step, setStep] = useState(0);\r\n  const [pointer, setPointer] = useState(null); // {top,left,width,height,placement}\r\n  const finishBtnRef = useRef(null);\r\n\r\n  const interactiveSteps = [\r\n    {\r\n      title: 'Welcome',\r\n      body: 'This quick interactive tour shows how to add and complete habits.'\r\n    },\r\n    {\r\n      title: 'Add a Habit',\r\n      body: 'Type a short habit name in this field. (We will demo \"Brush your teeth\" for you.)',\r\n      selector: '.add-habit-input',\r\n      placement: 'right',\r\n      page: 'home'\r\n    },\r\n    {\r\n      title: 'Save the Habit',\r\n      body: 'Click the Add button to save your habit. We will add it automatically for the demo.',\r\n      selector: '.add-habit-btn',\r\n      placement: 'bottom',\r\n      page: 'home',\r\n      autoFill: 'Brush your teeth'\r\n    },\r\n    {\r\n      title: 'Mark Complete',\r\n      body: 'Tap the mark-as-done button to record a completion for today. We will briefly show the effect.',\r\n      selector: '.habit-complete-btn',\r\n      placement: 'left',\r\n      page: 'home',\r\n      autoClick: true,\r\n      demoName: 'Brush your teeth'\r\n    },\r\n    {\r\n      title: 'Delete a Habit',\r\n      body: 'You can remove habits using the delete button.',\r\n      selector: '.habit-delete-btn',\r\n      placement: 'left',\r\n      page: 'home',\r\n      demoName: 'Brush your teeth'\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (visible) {\r\n      console.log('Tutorial: visible true — mounting tutorial overlay');\r\n      setStep(0);\r\n      setPointer(null);\r\n      document.body.style.overflow = 'hidden';\r\n      setTimeout(() => finishBtnRef.current?.focus(), 120);\r\n      return () => { document.body.style.overflow = ''; };\r\n    } else {\r\n      console.log('Tutorial: visible false');\r\n    }\r\n  }, [visible]);\r\n\r\n  // when step changes, if it has a selector, try to locate and position the pointer/highlight\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    const s = interactiveSteps[step];\r\n    let cancelled = false;\r\n\r\n    (async () => {\r\n      setPointer(null);\r\n      if (s?.page && setPage) setPage(s.page);\r\n      if (!s?.selector) return;\r\n\r\n      // helper: find the button for a habit by name inside the list\r\n      const findHabitButtonByName = async (selector, name, attempts = 8, interval = 150) => {\r\n        for (let i = 0; i < attempts; i++) {\r\n          const li = Array.from(document.querySelectorAll('li')).find(li => li.textContent && li.textContent.toLowerCase().includes(name.toLowerCase()));\r\n          if (li) {\r\n            const btn = li.querySelector(selector);\r\n            if (btn) return btn;\r\n          }\r\n          await new Promise(r => setTimeout(r, interval));\r\n        }\r\n        return null;\r\n      };\r\n\r\n      let el = null;\r\n\r\n      // if the step targets a habit action, prefer the demo habit by name and fall back to API if needed\r\n      if ((s.selector === '.habit-complete-btn' || s.selector === '.habit-delete-btn') && s.demoName) {\r\n        el = await findHabitButtonByName(s.selector, s.demoName);\r\n\r\n        if (!el && token) {\r\n          try {\r\n            const existing = await getHabits(token);\r\n            if (!existing.data.some(h => h.name === s.demoName)) {\r\n              await addHabit(token, s.demoName);\r\n            }\r\n            await new Promise(r => setTimeout(r, 400));\r\n            el = await findHabitButtonByName(s.selector, s.demoName);\r\n          } catch (err) {\r\n            /* ignore */\r\n          }\r\n        }\r\n\r\n        if (!el) {\r\n          // final fallback to any matching selector in the DOM\r\n          el = await findElement(s.selector);\r\n        }\r\n      } else {\r\n        el = await findElement(s.selector);\r\n      }\r\n\r\n      if (!el || cancelled) return;\r\n\r\n      // scroll into view then compute rect\r\n      el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\r\n      await new Promise(r => setTimeout(r, 200));\r\n\r\n      // demo auto-fill / auto-click for specific steps\r\n      try {\r\n        if (s.autoFill) {\r\n          const input = el.tagName.toLowerCase() === 'input' ? el : document.querySelector('.add-habit-input');\r\n          if (input) {\r\n            input.focus();\r\n            input.value = s.autoFill;\r\n            input.dispatchEvent(new Event('input', { bubbles: true }));\r\n            await new Promise(r => setTimeout(r, 220));\r\n          }\r\n        }\r\n        if (s.autoClick) {\r\n          el.click();\r\n          await new Promise(r => setTimeout(r, 380));\r\n        }\r\n        // for the Save step we may have filled the input; if the selector is button we can click it\r\n        if (s.selector === '.add-habit-btn' && s.autoFill) {\r\n          const btn = el;\r\n          if (btn) {\r\n            btn.click();\r\n            await new Promise(r => setTimeout(r, 500));\r\n          }\r\n        }\r\n      } catch (e) { /* ignore demo errors */ }\r\n\r\n      const rect = el.getBoundingClientRect();\r\n      const pointerBox = {\r\n        top: rect.top + window.scrollY,\r\n        left: rect.left + window.scrollX,\r\n        width: rect.width,\r\n        height: rect.height,\r\n        placement: s.placement || 'top'\r\n      };\r\n      setPointer(pointerBox);\r\n    })();\r\n\r\n    return () => { cancelled = true; };\r\n  }, [step, visible, token]);\r\n\r\n  if (!visible) return null;\r\n\r\n  const steps = interactiveSteps;\r\n\r\n  const finish = async () => {\r\n    try {\r\n      localStorage.setItem('tutorialSeen', 'true');\r\n      if (token) {\r\n        try { await setTutorialSeen(token); } catch (e) {}\r\n      }\r\n    } catch (e) {}\r\n    onClose();\r\n  };\r\n\r\n  const s = steps[step];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"tutorial-overlay\" role=\"dialog\" aria-modal=\"true\">\r\n        {pointer && (\r\n          <>\r\n            <div\r\n              className=\"tutorial-highlight\"\r\n              style={{\r\n                top: pointer.top - 8,\r\n                left: pointer.left - 8,\r\n                width: pointer.width + 16,\r\n                height: pointer.height + 16\r\n              }}\r\n            />\r\n            <div\r\n              className={`tutorial-pointer tutorial-pointer-${pointer.placement}`}\r\n              style={{\r\n                top: (pointer.placement === 'bottom') ? (pointer.top + pointer.height + 12) : (pointer.top - 12),\r\n                left: pointer.left + pointer.width / 2\r\n              }}\r\n            >\r\n              <div className=\"tutorial-pointer-label\">{s.title}</div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        <div className=\"tutorial-card\" role=\"document\" style={{ zIndex: 13000 }}>\r\n          <div className=\"tutorial-header\">\r\n            <div className=\"tutorial-step\">Step {step + 1} / {steps.length}</div>\r\n            <button className=\"tutorial-skip\" onClick={finish}>Skip</button>\r\n          </div>\r\n          <h3 className=\"tutorial-title\">{s.title}</h3>\r\n          <p className=\"tutorial-body\">{s.body}</p>\r\n          <div className=\"tutorial-actions\">\r\n            <button disabled={step === 0} onClick={() => setStep(x => Math.max(0, x - 1))}>Back</button>\r\n            {step < steps.length - 1 ? (\r\n              <button onClick={() => setStep(x => Math.min(steps.length - 1, x + 1))}>Next</button>\r\n            ) : (\r\n              <button ref={finishBtnRef} className=\"finish\" onClick={finish}>Finish</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}